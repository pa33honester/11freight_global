import{d as S,c as m,a as t,u as s,h as C,w as n,b as e,l as _,g as r,o as i,F as h,r as y,t as o,f as g,i as k,p as D,j as x,x as N}from"./app-Ce1PEk3E.js";import{_ as p}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ce_KBTPN.js";import{_ as V,a as B,b as P,c as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-BWo3PFTo.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-J0qUB_QG.js";import{_ as z,a as A,b as L,c as F,d as E}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BUjmVoxr.js";import{_ as I,a as M}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Cb83oQxT.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-D5_zQ9oX.js";import{P as U,a as W,T as q}from"./trash-2-BqsUsH8a.js";import"./useForwardPropsEmits-BWT1dgiP.js";import"./index-DN-339kb.js";import"./VisuallyHidden-8lUJdWoX.js";import"./useForwardExpose-DdplqLb_.js";import"./index-BsePJUay.js";import"./createLucideIcon-DgoLutV8.js";const G={class:"flex h-full flex-1 flex-col gap-4 p-4"},H={class:"flex items-center justify-between"},J={class:"overflow-x-auto"},K={class:"w-full border-collapse text-left text-sm"},Q={class:"px-4 py-3"},R={class:"px-4 py-3"},X={class:"px-4 py-3"},Y={class:"px-4 py-3"},Z={class:"px-4 py-3"},ee={class:"px-4 py-3"},te={class:"px-4 py-3"},se={class:"px-4 py-3 text-right space-x-2"},ae={key:0,class:"border-b border-border"},le={key:0,class:"flex items-center justify-between mt-6 pt-6 border-t border-border"},ne={class:"text-sm text-muted-foreground"},oe={class:"flex gap-2"},re={class:"text-sm"},$e=S({__name:"Index",props:{shipments:{}},setup(d){const v=[{title:"Shipments",href:"/shipments"}],f=x(!1),u=x(null),c=x(!1),w=b=>{u.value=b,f.value=!0},$=async()=>{u.value&&(c.value=!0,await N.delete(`/shipments/${u.value}`,{preserveScroll:!0}),c.value=!1,f.value=!1,u.value=null)};return(b,a)=>(i(),m(h,null,[t(s(C),{title:"Shipments"}),t(O,{breadcrumbs:v},{default:n(()=>[e("div",G,[e("div",H,[a[2]||(a[2]=e("div",null,[e("h1",{class:"text-3xl font-bold"},"Shipments"),e("p",{class:"text-muted-foreground"},"Manage shipments")],-1)),t(s(_),{href:"/shipments/create"},{default:n(()=>[t(s(p),null,{default:n(()=>[t(s(U),{class:"mr-2 h-4 w-4"}),a[1]||(a[1]=r(" Add Shipment ",-1))]),_:1})]),_:1})]),t(s(V),null,{default:n(()=>[t(s(B),null,{default:n(()=>[t(s(P),null,{default:n(()=>[...a[3]||(a[3]=[r("Shipment List",-1)])]),_:1}),t(s(j),null,{default:n(()=>[...a[4]||(a[4]=[r("View and manage shipments",-1)])]),_:1})]),_:1}),t(s(T),{class:"pb-8"},{default:n(()=>[e("div",J,[e("table",K,[a[6]||(a[6]=e("thead",null,[e("tr",{class:"border-b border-border bg-muted/50"},[e("th",{class:"px-4 py-3 font-medium"},"Code"),e("th",{class:"px-4 py-3 font-medium"},"Customer"),e("th",{class:"px-4 py-3 font-medium"},"Supplier"),e("th",{class:"px-4 py-3 font-medium"},"Weight"),e("th",{class:"px-4 py-3 font-medium"},"Shelf"),e("th",{class:"px-4 py-3 font-medium"},"Status"),e("th",{class:"px-4 py-3 font-medium"},"Created"),e("th",{class:"px-4 py-3 font-medium text-right"},"Actions")])],-1)),e("tbody",null,[(i(!0),m(h,null,y(d.shipments.data,l=>(i(),m("tr",{key:l.id,class:"border-b border-border hover:bg-muted/30 transition-colors"},[e("td",Q,o(l.shipment_code),1),e("td",R,o(l.customer?.full_name||"-"),1),e("td",X,o(l.supplier_name||"-"),1),e("td",Y,o(l.weight??"-"),1),e("td",Z,o(l.shelf_code||"-"),1),e("td",ee,o(l.status),1),e("td",te,o(new Date(l.created_at).toLocaleDateString()),1),e("td",se,[t(s(_),{href:`/shipments/${l.id}/edit`},{default:n(()=>[t(s(p),{variant:"outline",size:"sm"},{default:n(()=>[t(s(W),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),t(s(p),{variant:"destructive",size:"sm",onClick:de=>w(l.id)},{default:n(()=>[t(s(q),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]))),128)),d.shipments.data.length===0?(i(),m("tr",ae,[...a[5]||(a[5]=[e("td",{colspan:"8",class:"px-4 py-8 text-center text-muted-foreground"},"No shipments found.",-1)])])):g("",!0)])])]),d.shipments.last_page>1?(i(),m("div",le,[e("div",ne,"Showing "+o(d.shipments.data.length)+" of "+o(d.shipments.total)+" shipments",1),e("div",oe,[(i(!0),m(h,null,y(d.shipments.links,l=>(i(),k(s(_),{key:l.label,href:l.url||"#",class:D(["px-3 py-1 rounded border",l.active?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:bg-muted",l.url?"":"opacity-50 cursor-not-allowed"]),disabled:!l.url},{default:n(()=>[r(o(l.label.replace(/«|»/g,"")),1)]),_:2},1032,["href","class","disabled"]))),128))])])):g("",!0)]),_:1})]),_:1}),t(s(z),{open:f.value,"onUpdate:open":a[0]||(a[0]=l=>f.value=l)},{default:n(()=>[t(s(A),{class:"sm:max-w-md"},{default:n(()=>[t(s(L),{class:"space-y-3"},{default:n(()=>[t(s(F),null,{default:n(()=>[...a[7]||(a[7]=[r("Delete shipment",-1)])]),_:1}),t(s(E),null,{default:n(()=>[...a[8]||(a[8]=[r("Are you sure you want to delete this shipment? This action cannot be undone.",-1)])]),_:1})]),_:1}),e("div",re,[e("p",null,[a[9]||(a[9]=e("strong",null,"Shipment:",-1)),r(" "+o((d.shipments.data.find(l=>l.id===u.value)||{shipment_code:"-"}).shipment_code),1)])]),t(s(I),{class:"gap-2 mt-4"},{default:n(()=>[t(s(M),{"as-child":""},{default:n(()=>[t(s(p),{variant:"secondary"},{default:n(()=>[...a[10]||(a[10]=[r("Cancel",-1)])]),_:1})]),_:1}),t(s(p),{variant:"destructive",disabled:c.value,onClick:$},{default:n(()=>[r(o(c.value?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{$e as default};
