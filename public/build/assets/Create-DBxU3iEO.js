import{d as V,k as C,c as n,a as r,u as e,h as $,w as l,b as d,g as a,e as k,p as h,o as m,t as p,f as _,n as E,F as v,r as N,q as U,s as D}from"./app-C3z3C6Qr.js";import{_ as b}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-D_iRLGtp.js";import{_ as j,a as q,b as B,c as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-CPR_LB69.js";import{_ as W}from"./CardDescription.vue_vue_type_script_setup_true_lang-DgraPTM6.js";import{_ as M}from"./CardFooter.vue_vue_type_script_setup_true_lang-CU8T8sV-.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-B0moNGY1.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-BkK2wAS4.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-DW9BdHvg.js";import"./index-CmcRMKc_.js";import"./useForwardExpose-BJNPGo-H.js";import"./VisuallyHidden-Vvtas9GG.js";import"./useForwardPropsEmits-DnUITS-n.js";import"./index-BsePJUay.js";import"./createLucideIcon-CnvI7Wr1.js";const z={class:"flex h-full flex-1 flex-col gap-4 p-4"},A={class:"space-y-2"},I={key:0,class:"text-sm text-destructive"},L={class:"space-y-2"},P=["value"],R={key:0,class:"text-sm text-destructive"},T={class:"space-y-2"},G={class:"grid grid-cols-2 gap-4"},H={class:"space-y-2"},J={key:0,class:"text-sm text-destructive"},K={class:"space-y-2"},Q={key:0,class:"text-sm text-destructive"},ue=V({__name:"Create",props:{customers:{}},setup(g){const w=g,x=[{title:"Shipments",href:"/shipments"},{title:"Create",href:"/shipments/create"}],t=C({shipment_code:"",customer_id:w.customers?.[0]?.id??"",supplier_name:"",weight:"",shelf_code:"",status:"RECEIVED"}),o=D({}),y=()=>{if(Object.keys(o).forEach(u=>delete o[u]),!t.shipment_code||!String(t.shipment_code).trim()?o.shipment_code="Shipment code is required.":String(t.shipment_code).length>50&&(o.shipment_code="Shipment code must be at most 50 characters."),t.customer_id||(o.customer_id="Please select a customer."),t.weight!==""&&t.weight!==null){const u=Number(t.weight);Number.isNaN(u)?o.weight="Weight must be a number.":u<0&&(o.weight="Weight cannot be negative.")}return t.shelf_code&&String(t.shelf_code).length>50&&(o.shelf_code="Shelf code must be at most 50 characters."),Object.keys(o).length===0},S=()=>{y()&&(t.clearErrors?.(),t.post("/shipments",{preserveScroll:!0}))};return(u,s)=>(m(),n(v,null,[r(e($),{title:"Create Shipment"}),r(O,{breadcrumbs:x},{default:l(()=>[d("div",z,[s[15]||(s[15]=d("div",null,[d("h1",{class:"text-3xl font-bold"},"Create Shipment"),d("p",{class:"text-muted-foreground"},"Add a new shipment")],-1)),r(e(j),{class:"max-w-2xl"},{default:l(()=>[r(e(q),null,{default:l(()=>[r(e(B),null,{default:l(()=>[...s[6]||(s[6]=[a("Shipment Details",-1)])]),_:1}),r(e(W),null,{default:l(()=>[...s[7]||(s[7]=[a("Enter details below",-1)])]),_:1})]),_:1}),d("form",{onSubmit:k(S,["prevent"])},[r(e(F),{class:"space-y-4 pb-8"},{default:l(()=>[d("div",A,[r(e(c),{for:"shipment_code"},{default:l(()=>[...s[8]||(s[8]=[a("Shipment Code ",-1),d("span",{class:"text-destructive"},"*",-1)])]),_:1}),r(e(f),{id:"shipment_code",modelValue:e(t).shipment_code,"onUpdate:modelValue":s[0]||(s[0]=i=>e(t).shipment_code=i),required:"",class:h({"border-destructive":o.shipment_code||e(t).errors.shipment_code})},null,8,["modelValue","class"]),o.shipment_code||e(t).errors.shipment_code?(m(),n("p",I,p(o.shipment_code||e(t).errors.shipment_code),1)):_("",!0)]),d("div",L,[r(e(c),{for:"customer_id"},{default:l(()=>[...s[9]||(s[9]=[a("Customer",-1)])]),_:1}),E(d("select",{id:"customer_id","onUpdate:modelValue":s[1]||(s[1]=i=>e(t).customer_id=i),class:"w-full rounded border px-3 py-2"},[s[10]||(s[10]=d("option",{value:""},"Select customer",-1)),(m(!0),n(v,null,N(g.customers,i=>(m(),n("option",{key:i.id,value:i.id},p(i.full_name),9,P))),128))],512),[[U,e(t).customer_id,void 0,{number:!0}]]),o.customer_id||e(t).errors.customer_id?(m(),n("p",R,p(o.customer_id||e(t).errors.customer_id),1)):_("",!0)]),d("div",T,[r(e(c),{for:"supplier_name"},{default:l(()=>[...s[11]||(s[11]=[a("Supplier",-1)])]),_:1}),r(e(f),{id:"supplier_name",modelValue:e(t).supplier_name,"onUpdate:modelValue":s[2]||(s[2]=i=>e(t).supplier_name=i)},null,8,["modelValue"])]),d("div",G,[d("div",H,[r(e(c),{for:"weight"},{default:l(()=>[...s[12]||(s[12]=[a("Weight",-1)])]),_:1}),r(e(f),{id:"weight",modelValue:e(t).weight,"onUpdate:modelValue":s[3]||(s[3]=i=>e(t).weight=i),type:"number",step:"0.01",class:h({"border-destructive":o.weight||e(t).errors.weight})},null,8,["modelValue","class"]),o.weight||e(t).errors.weight?(m(),n("p",J,p(o.weight||e(t).errors.weight),1)):_("",!0)]),d("div",K,[r(e(c),{for:"shelf_code"},{default:l(()=>[...s[13]||(s[13]=[a("Shelf Code",-1)])]),_:1}),r(e(f),{id:"shelf_code",modelValue:e(t).shelf_code,"onUpdate:modelValue":s[4]||(s[4]=i=>e(t).shelf_code=i),class:h({"border-destructive":o.shelf_code||e(t).errors.shelf_code})},null,8,["modelValue","class"]),o.shelf_code||e(t).errors.shelf_code?(m(),n("p",Q,p(o.shelf_code||e(t).errors.shelf_code),1)):_("",!0)])])]),_:1}),r(e(M),{class:"flex justify-between"},{default:l(()=>[r(e(b),{type:"button",variant:"outline",onClick:s[5]||(s[5]=i=>u.$inertia.visit("/shipments"))},{default:l(()=>[...s[14]||(s[14]=[a("Cancel",-1)])]),_:1}),r(e(b),{type:"submit",disabled:e(t).processing},{default:l(()=>[a(p(e(t).processing?"Creating...":"Create Shipment"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})])]),_:1})],64))}});export{ue as default};
