import{d as I,c as i,a as t,u as s,h as C,w as l,b as e,l as h,g as n,o as d,F as b,r as y,t as r,f as x,i as D,p as S,j as v,m as B,x as N}from"./app-Ce1PEk3E.js";import{_ as c}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ce_KBTPN.js";import{_ as P,a as T,b as V,c as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-BWo3PFTo.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-J0qUB_QG.js";import{_ as A,a as L,b as W,c as F,d as E}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BUjmVoxr.js";import{_ as M,a as O}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Cb83oQxT.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-D5_zQ9oX.js";import{P as q,a as G,T as H}from"./trash-2-BqsUsH8a.js";import"./useForwardPropsEmits-BWT1dgiP.js";import"./index-DN-339kb.js";import"./VisuallyHidden-8lUJdWoX.js";import"./useForwardExpose-DdplqLb_.js";import"./index-BsePJUay.js";import"./createLucideIcon-DgoLutV8.js";const J={class:"flex h-full flex-1 flex-col gap-4 p-4"},K={class:"flex items-center justify-between"},Q={class:"overflow-x-auto"},R={class:"w-full border-collapse text-left text-sm"},X={class:"px-4 py-3"},Y={class:"px-4 py-3"},Z={class:"px-4 py-3"},ee={key:0},te=["src"],se={key:1},ae={class:"px-4 py-3"},oe={class:"px-4 py-3"},le={class:"px-4 py-3 text-right space-x-2"},re={key:0,class:"border-b border-border"},ne={key:0,class:"flex items-center justify-between mt-6 pt-6 border-t border-border"},de={class:"text-sm text-muted-foreground"},ie={class:"flex gap-2"},ue={class:"text-sm"},Ce=I({__name:"Index",props:{items:{}},setup(u){const g=[{title:"Warehouse Inventory",href:"/warehouse-inventory"}],_=v(!1),m=v(null),p=v(!1),w=B(()=>{const f=m.value;return f===null?"-":u.items.data.find(o=>o.id===f)?.shipment?.shipment_code??"-"}),$=f=>{m.value=f,_.value=!0},k=async()=>{m.value&&(p.value=!0,await N.delete(`/warehouse-inventory/${m.value}`,{preserveScroll:!0}),p.value=!1,_.value=!1,m.value=null)};return(f,a)=>(d(),i(b,null,[t(s(C),{title:"Warehouse Inventory"}),t(U,{breadcrumbs:g},{default:l(()=>[e("div",J,[e("div",K,[a[2]||(a[2]=e("div",null,[e("h1",{class:"text-3xl font-bold"},"Warehouse Inventory"),e("p",{class:"text-muted-foreground"},"Manage items in the warehouse")],-1)),t(s(h),{href:"/warehouse-inventory/create"},{default:l(()=>[t(s(c),null,{default:l(()=>[t(s(q),{class:"mr-2 h-4 w-4"}),a[1]||(a[1]=n(" Add Item ",-1))]),_:1})]),_:1})]),t(s(P),null,{default:l(()=>[t(s(T),null,{default:l(()=>[t(s(V),null,{default:l(()=>[...a[3]||(a[3]=[n("Inventory",-1)])]),_:1}),t(s(z),null,{default:l(()=>[...a[4]||(a[4]=[n("Items received into warehouse",-1)])]),_:1})]),_:1}),t(s(j),{class:"pb-8"},{default:l(()=>[e("div",Q,[e("table",R,[a[6]||(a[6]=e("thead",null,[e("tr",{class:"border-b border-border bg-muted/50"},[e("th",{class:"px-4 py-3 font-medium"},"Shipment"),e("th",{class:"px-4 py-3 font-medium"},"Shelf"),e("th",{class:"px-4 py-3 font-medium"},"Photo"),e("th",{class:"px-4 py-3 font-medium"},"Intake By"),e("th",{class:"px-4 py-3 font-medium"},"Intake Time"),e("th",{class:"px-4 py-3 font-medium text-right"},"Actions")])],-1)),e("tbody",null,[(d(!0),i(b,null,y(u.items.data,o=>(d(),i("tr",{key:o.id,class:"border-b border-border hover:bg-muted/30 transition-colors"},[e("td",X,r(o.shipment?.shipment_code||"-"),1),e("td",Y,r(o.shelf||"-"),1),e("td",Z,[o.photo_url?(d(),i("div",ee,[e("img",{src:o.photo_url,class:"h-12 w-auto rounded",alt:"photo"},null,8,te)])):(d(),i("div",se,r(o.photo_path?"View":"-"),1))]),e("td",ae,r(o.intake_by?.name||"-"),1),e("td",oe,r(new Date(o.intake_time||o.created_at).toLocaleString()),1),e("td",le,[t(s(h),{href:`/warehouse-inventory/${o.id}/edit`},{default:l(()=>[t(s(c),{variant:"outline",size:"sm"},{default:l(()=>[t(s(G),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),t(s(c),{variant:"destructive",size:"sm",onClick:me=>$(o.id)},{default:l(()=>[t(s(H),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]))),128)),u.items.data.length===0?(d(),i("tr",re,[...a[5]||(a[5]=[e("td",{colspan:"6",class:"px-4 py-8 text-center text-muted-foreground"},"No items found.",-1)])])):x("",!0)])])]),u.items.last_page>1?(d(),i("div",ne,[e("div",de,"Showing "+r(u.items.data.length)+" of "+r(u.items.total)+" items",1),e("div",ie,[(d(!0),i(b,null,y(u.items.links,o=>(d(),D(s(h),{key:o.label,href:o.url||"#",class:S(["px-3 py-1 rounded border",o.active?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:bg-muted",o.url?"":"opacity-50 cursor-not-allowed"]),disabled:!o.url},{default:l(()=>[n(r(o.label.replace(/«|»/g,"")),1)]),_:2},1032,["href","class","disabled"]))),128))])])):x("",!0)]),_:1})]),_:1}),t(s(A),{open:_.value,"onUpdate:open":a[0]||(a[0]=o=>_.value=o)},{default:l(()=>[t(s(L),{class:"sm:max-w-md"},{default:l(()=>[t(s(W),{class:"space-y-3"},{default:l(()=>[t(s(F),null,{default:l(()=>[...a[7]||(a[7]=[n("Delete item",-1)])]),_:1}),t(s(E),null,{default:l(()=>[...a[8]||(a[8]=[n("Are you sure you want to remove this item from inventory? This action cannot be undone.",-1)])]),_:1})]),_:1}),e("div",ue,[e("p",null,[a[9]||(a[9]=e("strong",null,"Item:",-1)),n(" "+r(w.value),1)])]),t(s(M),{class:"gap-2 mt-4"},{default:l(()=>[t(s(O),{"as-child":""},{default:l(()=>[t(s(c),{variant:"secondary"},{default:l(()=>[...a[10]||(a[10]=[n("Cancel",-1)])]),_:1})]),_:1}),t(s(c),{variant:"destructive",disabled:p.value,onClick:k},{default:l(()=>[n(r(p.value?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{Ce as default};
