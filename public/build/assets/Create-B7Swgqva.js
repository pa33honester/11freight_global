import{d as E,k as C,c as n,a as o,u as t,h as b,w as r,b as l,g as u,n as f,o as d,F as p,r as P,t as _,q as c,f as N,e as D,j as w}from"./app-Ce1PEk3E.js";import{_ as $}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ce_KBTPN.js";import{_ as g,a as k,b as S,c as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-BWo3PFTo.js";import{_ as v}from"./Input.vue_vue_type_script_setup_true_lang-BbOMO5jb.js";import{_ as i}from"./Label.vue_vue_type_script_setup_true_lang-P1h1lBXv.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-D5_zQ9oX.js";import"./index-DN-339kb.js";import"./useForwardExpose-DdplqLb_.js";import"./VisuallyHidden-8lUJdWoX.js";import"./useForwardPropsEmits-BWT1dgiP.js";import"./index-BsePJUay.js";import"./createLucideIcon-DgoLutV8.js";const A={class:"p-4"},B={class:"grid gap-4"},F={class:"flex flex-col space-y-2"},G=["value"],I={key:0,class:"text-sm text-destructive mt-1"},T={class:"flex flex-col space-y-2"},J={class:"flex flex-col space-y-2"},M={class:"flex flex-col space-y-2"},O={class:"flex gap-6"},te=E({__name:"Create",props:{customers:{}},setup(x){const y=x,s=C({customer_id:"",reference_code:"",amount:"",status:"PENDING"}),m=w(!1),V=async()=>{if(!s.customer_id){s.setError("customer_id","Please select a customer");return}m.value=!0,await s.post("/payments",{preserveScroll:!0}),m.value=!1};return(j,e)=>(d(),n(p,null,[o(t(b),{title:"Create Payment"}),o(U,{breadcrumbs:[{title:"Payments",href:"/payments"},{title:"Create",href:"/payments/create"}]},{default:r(()=>[l("div",A,[o(t(g),{class:"max-w-2xl"},{default:r(()=>[o(t(k),null,{default:r(()=>[o(t(S),null,{default:r(()=>[...e[4]||(e[4]=[u("Create Payment",-1)])]),_:1})]),_:1}),o(t(R),null,{default:r(()=>[l("div",B,[l("div",F,[o(t(i),null,{default:r(()=>[...e[5]||(e[5]=[u("Customer",-1)])]),_:1}),f(l("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>t(s).customer_id=a),class:"w-full rounded border px-3 py-2"},[e[6]||(e[6]=l("option",{value:""},"Select customer",-1)),(d(!0),n(p,null,P(y.customers,a=>(d(),n("option",{key:a.id,value:a.id},_(a.full_name),9,G))),128))],512),[[c,t(s).customer_id]]),t(s).errors.customer_id?(d(),n("p",I,_(t(s).errors.customer_id),1)):N("",!0)]),l("div",T,[o(t(i),null,{default:r(()=>[...e[7]||(e[7]=[u("Reference Code",-1)])]),_:1}),o(t(v),{modelValue:t(s).reference_code,"onUpdate:modelValue":e[1]||(e[1]=a=>t(s).reference_code=a)},null,8,["modelValue"])]),l("div",J,[o(t(i),null,{default:r(()=>[...e[8]||(e[8]=[u("Amount",-1)])]),_:1}),o(t(v),{modelValue:t(s).amount,"onUpdate:modelValue":e[2]||(e[2]=a=>t(s).amount=a),type:"number",step:"0.01"},null,8,["modelValue"])]),l("div",M,[o(t(i),null,{default:r(()=>[...e[9]||(e[9]=[u("Status",-1)])]),_:1}),f(l("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>t(s).status=a),class:"w-full rounded border px-3 py-2"},[...e[10]||(e[10]=[l("option",{value:"PENDING"},"PENDING",-1),l("option",{value:"APPROVED"},"APPROVED",-1),l("option",{value:"REJECTED"},"REJECTED",-1)])],512),[[c,t(s).status]])]),l("div",O,[o(t($),{disabled:m.value,onClick:D(V,["prevent"])},{default:r(()=>[...e[11]||(e[11]=[u("Save",-1)])]),_:1},8,["disabled"])])])]),_:1})]),_:1})])]),_:1})],64))}});export{te as default};
