import{d as b,k,c as n,a as o,u as e,h as C,w as a,b as r,g as i,n as S,o as d,F as c,r as V,t as u,q as $,f as p,e as F,j as B}from"./app-Ce1PEk3E.js";import{_ as h}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ce_KBTPN.js";import{_ as I,a as N,b as D,c as E}from"./CardTitle.vue_vue_type_script_setup_true_lang-BWo3PFTo.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-BbOMO5jb.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-P1h1lBXv.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-D5_zQ9oX.js";import"./index-DN-339kb.js";import"./useForwardExpose-DdplqLb_.js";import"./VisuallyHidden-8lUJdWoX.js";import"./useForwardPropsEmits-BWT1dgiP.js";import"./index-BsePJUay.js";import"./createLucideIcon-DgoLutV8.js";const U={class:"p-4"},W={class:"flex flex-col space-y-6"},j=["value"],q={key:0,class:"text-sm text-destructive mt-1"},L={class:"flex flex-col space-y-6"},T={key:0,class:"text-sm text-destructive mt-1"},z={class:"flex flex-col space-y-6"},A={key:0,class:"text-sm text-destructive mt-1"},G={class:"flex gap-2"},oe=b({__name:"Create",props:{shipments:{}},setup(v){const x=v,s=k({shipment_id:"",shelf:"",photo:null}),m=B(!1),y=async()=>{if(!s.shipment_id){s.setError("shipment_id","Please select a shipment");return}m.value=!0,await s.post("/warehouse-inventory",{preserveScroll:!0,forceFormData:!0}),m.value=!1},g=_=>{const t=_.target;s.photo=t.files&&t.files.length?t.files[0]:null},w=()=>window.history.back();return(_,t)=>(d(),n(c,null,[o(e(C),{title:"Create Warehouse Inventory"}),o(P,{breadcrumbs:[{title:"Warehouse Inventory",href:"/warehouse-inventory"},{title:"Create",href:"/warehouse-inventory/create"}]},{default:a(()=>[r("div",U,[o(e(I),{class:"max-w-2xl"},{default:a(()=>[o(e(N),null,{default:a(()=>[o(e(D),null,{default:a(()=>[...t[2]||(t[2]=[i("Create Inventory Item",-1)])]),_:1})]),_:1}),o(e(E),{class:"space-y-4"},{default:a(()=>[r("div",W,[o(e(f),null,{default:a(()=>[...t[3]||(t[3]=[i("Shipment",-1)])]),_:1}),S(r("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>e(s).shipment_id=l),class:"w-full rounded border px-3 py-2"},[t[4]||(t[4]=r("option",{value:""},"Select shipment",-1)),(d(!0),n(c,null,V(x.shipments,l=>(d(),n("option",{key:l.id,value:l.id},u(l.tracking_number),9,j))),128))],512),[[$,e(s).shipment_id]]),e(s).errors.shipment_id?(d(),n("p",q,u(e(s).errors.shipment_id),1)):p("",!0)]),r("div",L,[o(e(f),null,{default:a(()=>[...t[5]||(t[5]=[i("Shelf",-1)])]),_:1}),o(e(M),{modelValue:e(s).shelf,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).shelf=l)},null,8,["modelValue"]),e(s).errors.shelf?(d(),n("p",T,u(e(s).errors.shelf),1)):p("",!0)]),r("div",z,[o(e(f),null,{default:a(()=>[...t[6]||(t[6]=[i("Photo (optional)",-1)])]),_:1}),r("input",{type:"file",accept:"image/*",onChange:g,class:"w-full rounded border px-3 py-2"},null,32),e(s).errors.photo?(d(),n("p",A,u(e(s).errors.photo),1)):p("",!0)]),r("div",G,[o(e(h),{disabled:m.value,onClick:F(y,["prevent"])},{default:a(()=>[i(u(m.value?"Saving...":"Save"),1)]),_:1},8,["disabled"]),o(e(h),{variant:"secondary",onClick:w},{default:a(()=>[...t[7]||(t[7]=[i("Cancel",-1)])]),_:1})])]),_:1})]),_:1})])]),_:1})],64))}});export{oe as default};
