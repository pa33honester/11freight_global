import{d as w,c as p,a as e,u as a,h as C,w as n,b as s,l as c,g as l,o as _,F as v,r as k,t as i,f as h,j as y,x as D}from"./app-DNb8IJsK.js";import{_ as u}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CkWNvQIC.js";import{_ as P,a as A,b as F,c as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-CfDtNh6H.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-QBLwV4Q0.js";import{_ as S,a as z,b as B,c as I}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Ii6j11VP.js";import{_ as j,a as E}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BYxLm8ff.js";import{_ as L}from"./DialogDescription.vue_vue_type_script_setup_true_lang-C92bP3uc.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-DxWm94Ns.js";import"./useForwardPropsEmits-eZ90ZgMN.js";import"./index-DwsDudaH.js";import"./VisuallyHidden-DyUMFNvN.js";import"./useForwardExpose-C8bIEs-7.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-A9GGF9lC.js";const O={class:"p-4"},R={class:"flex items-center justify-between mb-4"},U={class:"overflow-x-auto"},q={class:"w-full text-left text-sm"},G={class:"px-4 py-2"},H={class:"px-4 py-2"},J={class:"px-4 py-2"},K={class:"px-4 py-2"},M={class:"px-4 py-2 text-right space-x-2"},Q={key:0},W={class:"mt-2 text-sm"},ft=w({__name:"Index",props:{payments:{}},setup(x){const d=y(null),m=y(!1),f=y(!1),b=r=>{if(r==null||r==="")return"-";const t=typeof r=="number"?r:parseFloat(String(r));return isFinite(t)?t.toFixed(2):"-"},$=r=>{d.value=r,f.value=!0},g=async()=>{d.value&&(m.value=!0,await D.delete(`/payments/${d.value}`,{preserveScroll:!0}),m.value=!1,f.value=!1,d.value=null)};return(r,t)=>(_(),p(v,null,[e(a(C),{title:"Payments"}),e(T,{breadcrumbs:[{title:"Payments",href:"/payments"}]},{default:n(()=>[s("div",O,[s("div",R,[t[2]||(t[2]=s("div",null,[s("h1",{class:"text-2xl font-bold"},"Payments"),s("p",{class:"text-muted-foreground"},"Customer payments")],-1)),e(a(c),{href:"/payments/create"},{default:n(()=>[e(a(u),null,{default:n(()=>[...t[1]||(t[1]=[l("Add Payment",-1)])]),_:1})]),_:1})]),e(a(P),null,{default:n(()=>[e(a(A),null,{default:n(()=>[e(a(F),null,{default:n(()=>[...t[3]||(t[3]=[l("Payments",-1)])]),_:1}),e(a(V),null,{default:n(()=>[...t[4]||(t[4]=[l("List of customer payments",-1)])]),_:1})]),_:1}),e(a(N),null,{default:n(()=>[s("div",U,[s("table",q,[t[9]||(t[9]=s("thead",null,[s("tr",{class:"border-b bg-muted/50"},[s("th",{class:"px-4 py-2"},"Customer"),s("th",{class:"px-4 py-2"},"Reference"),s("th",{class:"px-4 py-2"},"Amount"),s("th",{class:"px-4 py-2"},"Status"),s("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),s("tbody",null,[(_(!0),p(v,null,k(x.payments.data,o=>(_(),p("tr",{key:o.id,class:"border-b hover:bg-muted/30"},[s("td",G,i(o.customer?.full_name||"-"),1),s("td",H,i(o.reference_code),1),s("td",J,i(b(o.amount)),1),s("td",K,i(o.status),1),s("td",M,[e(a(c),{href:`/payments/${o.id}`},{default:n(()=>[e(a(u),{class:"cursor-pointer",variant:"outline",size:"sm"},{default:n(()=>[...t[5]||(t[5]=[l("View",-1)])]),_:1})]),_:1},8,["href"]),e(a(c),{href:`/payments/${o.id}/edit`},{default:n(()=>[e(a(u),{class:"cursor-pointer",variant:"secondary",size:"sm"},{default:n(()=>[...t[6]||(t[6]=[l("Edit",-1)])]),_:1})]),_:1},8,["href"]),e(a(u),{class:"cursor-pointer",variant:"destructive",size:"sm",onClick:X=>$(o.id)},{default:n(()=>[...t[7]||(t[7]=[l("Delete",-1)])]),_:1},8,["onClick"])])]))),128)),x.payments.data.length===0?(_(),p("tr",Q,[...t[8]||(t[8]=[s("td",{colspan:"5",class:"p-6 text-center text-muted-foreground"},"No payments found.",-1)])])):h("",!0)])])])]),_:1})]),_:1}),e(a(S),{open:f.value,"onUpdate:open":t[0]||(t[0]=o=>f.value=o)},{default:n(()=>[e(a(z),{class:"sm:max-w-md"},{default:n(()=>[e(a(B),null,{default:n(()=>[e(a(I),null,{default:n(()=>[...t[10]||(t[10]=[l("Delete payment",-1)])]),_:1}),e(a(L),null,{default:n(()=>[...t[11]||(t[11]=[l("Are you sure you want to delete this payment? This action cannot be undone.",-1)])]),_:1})]),_:1}),s("div",W,[t[12]||(t[12]=s("strong",null,"Payment ID:",-1)),l(" "+i(d.value||"-"),1)]),e(a(j),{class:"gap-2 mt-4"},{default:n(()=>[e(a(E),{"as-child":""},{default:n(()=>[e(a(u),{variant:"secondary"},{default:n(()=>[...t[13]||(t[13]=[l("Cancel",-1)])]),_:1})]),_:1}),e(a(u),{variant:"destructive",disabled:m.value,onClick:g},{default:n(()=>[l(i(m.value?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{ft as default};
