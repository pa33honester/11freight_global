import{d as k,j as y,m as V,c as d,a,u as l,h as C,w as r,b as e,g as p,n as b,p as N,v as T,q,o as f,F as h,r as F,t as m,l as R,f as B,s as P,x as U,y as j}from"./app-DbnlkrMv.js";import{_ as v}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BWY_apWj.js";import{_ as A,a as D,b as E,c as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-CeUdLFNC.js";import{_ as K}from"./CardDescription.vue_vue_type_script_setup_true_lang-D3btJlsr.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-CKPnZjkL.js";import"./index-Bpt89bPj.js";import"./VisuallyHidden-BYSOKA-6.js";import"./useForwardExpose-C_L76eIi.js";import"./useForwardPropsEmits-BemXgQIs.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-Cu1DnD-A.js";const M={class:"p-4"},z={class:"p-4 flex gap-3 items-center"},G={class:"overflow-x-auto"},H={class:"w-full text-left text-sm"},J={class:"px-4 py-2"},O={class:"px-4 py-2"},Q={class:"px-4 py-2"},W={class:"px-4 py-2"},X={class:"px-4 py-2 text-right"},Y={key:0},de=k({__name:"Index",props:{users:{}},setup(c){const _=c,g=P().props.value,n=y(g?.filters?.q??""),i=y(g?.filters?.per_page??_.users.per_page??20),u=()=>{const s={};n.value&&(s.q=n.value),i.value&&(s.per_page=i.value),U.get("/admin/staff",s,{preserveState:!0,replace:!0})},w=()=>{n.value="",i.value=_.users.per_page??20,u()};let x=null;V(n,()=>{x&&window.clearTimeout(x),x=window.setTimeout(()=>u(),400)});const S=j(()=>{const s=_.users?.meta;return s?.from?s.from:s?.current_page&&s?.per_page?(s.current_page-1)*s.per_page+1:1});return(s,t)=>(f(),d(h,null,[a(l(C),{title:"Staff & Roles"}),a(L,{breadcrumbs:[{title:"Staff & Roles",href:"/admin/staff"}]},{default:r(()=>[e("div",M,[t[10]||(t[10]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",null,[e("h1",{class:"text-2xl font-bold"},"Staff & Roles"),e("p",{class:"text-sm text-muted-foreground"},"List of application users and their assigned role (if any).")])],-1)),a(l(A),null,{default:r(()=>[a(l(D),null,{default:r(()=>[a(l(E),null,{default:r(()=>[...t[2]||(t[2]=[p("Staff",-1)])]),_:1}),a(l(K),null,{default:r(()=>[...t[3]||(t[3]=[p("Users and roles",-1)])]),_:1})]),_:1}),e("div",z,[b(e("input",{type:"search","onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o),onKeyup:N(u,["enter"]),placeholder:"Search users...",class:"rounded border px-3 py-2 w-64"},null,544),[[T,n.value]]),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>i.value=o),class:"rounded border px-3 py-2"},[...t[4]||(t[4]=[e("option",{value:10},"10",-1),e("option",{value:20},"20",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)])],512),[[q,i.value,void 0,{number:!0}]]),a(l(v),{onClick:u},{default:r(()=>[...t[5]||(t[5]=[p("Apply",-1)])]),_:1}),a(l(v),{variant:"outline",onClick:w},{default:r(()=>[...t[6]||(t[6]=[p("Clear",-1)])]),_:1})]),a(l(I),null,{default:r(()=>[e("div",G,[e("table",H,[t[9]||(t[9]=e("thead",null,[e("tr",{class:"border-b bg-muted/50"},[e("th",{class:"px-4 py-2"},"#"),e("th",{class:"px-4 py-2"},"Name"),e("th",{class:"px-4 py-2"},"Email"),e("th",{class:"px-4 py-2"},"Role"),e("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),e("tbody",null,[(f(!0),d(h,null,F(c.users.data,(o,$)=>(f(),d("tr",{key:o.id,class:"border-b hover:bg-muted/30"},[e("td",J,m(S.value+$),1),e("td",O,m(o.name),1),e("td",Q,m(o.email),1),e("td",W,m(o.role||"-"),1),e("td",X,[a(l(R),{href:`/admin/staff/${o.id}`},{default:r(()=>[a(l(v),{variant:"outline",size:"sm"},{default:r(()=>[...t[7]||(t[7]=[p("View",-1)])]),_:1})]),_:1},8,["href"])])]))),128)),c.users.data.length===0?(f(),d("tr",Y,[...t[8]||(t[8]=[e("td",{colspan:"5",class:"p-6 text-center text-muted-foreground"},"No users found.",-1)])])):B("",!0)])])])]),_:1})]),_:1})])]),_:1})],64))}});export{de as default};
