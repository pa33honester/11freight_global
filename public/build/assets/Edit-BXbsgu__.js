import{d as $,k as S,c as n,a as o,u as e,h as C,w as r,b as l,g as u,n as V,o as d,F as v,r as E,t as m,q as F,f,e as B,j as I}from"./app-DbnlkrMv.js";import{_ as x}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BWY_apWj.js";import{_ as N,a as D,b as M,c as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-CeUdLFNC.js";import{_ as U}from"./Input.vue_vue_type_script_setup_true_lang-Bd-3t3Tw.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-QaAtDQn8.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-CKPnZjkL.js";import"./index-Bpt89bPj.js";import"./useForwardExpose-C_L76eIi.js";import"./VisuallyHidden-BYSOKA-6.js";import"./useForwardPropsEmits-BemXgQIs.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-Cu1DnD-A.js";const j={class:"p-4"},q={class:"flex flex-col space-y-6"},L=["value"],T={key:0,class:"text-sm text-destructive mt-1"},z={class:"flex flex-col space-y-6"},A={key:0,class:"text-sm text-destructive mt-1"},G={class:"flex flex-col space-y-6"},H={key:0,class:"text-sm text-destructive mt-1"},J={key:1,class:"mt-2"},K=["src"],O={class:"flex gap-2"},ie=$({__name:"Edit",props:{item:{},shipments:{}},setup(y){const c=y,a=c.item,g=c.shipments,s=S({shipment_id:String(a.shipment_id),shelf:a.shelf||"",photo:null}),p=I(!1),b=async()=>{if(!s.shipment_id){s.setError("shipment_id","Please select a shipment");return}p.value=!0,await s.put(`/warehouse/${a.id}`,{preserveScroll:!0,forceFormData:!0}),p.value=!1},w=h=>{const t=h.target;s.photo=t.files&&t.files.length?t.files[0]:null},k=()=>window.history.back();return(h,t)=>(d(),n(v,null,[o(e(C),{title:"Edit Warehouse Inventory"}),o(W,{breadcrumbs:[{title:"Warehouse Inventory",href:"/warehouse"},{title:"Edit",href:`/warehouse/${e(a).id}/edit`}]},{default:r(()=>[l("div",j,[o(e(N),{class:"max-w-2xl"},{default:r(()=>[o(e(D),null,{default:r(()=>[o(e(M),null,{default:r(()=>[...t[2]||(t[2]=[u("Edit Inventory Item",-1)])]),_:1})]),_:1}),o(e(P),{class:"space-y-4"},{default:r(()=>[l("div",q,[o(e(_),null,{default:r(()=>[...t[3]||(t[3]=[u("Shipment",-1)])]),_:1}),V(l("select",{"onUpdate:modelValue":t[0]||(t[0]=i=>e(s).shipment_id=i),class:"w-full rounded border px-3 py-2"},[t[4]||(t[4]=l("option",{value:""},"Select shipment",-1)),(d(!0),n(v,null,E(e(g),i=>(d(),n("option",{key:i.id,value:i.id},m(i.tracking_number),9,L))),128))],512),[[F,e(s).shipment_id]]),e(s).errors.shipment_id?(d(),n("p",T,m(e(s).errors.shipment_id),1)):f("",!0)]),l("div",z,[o(e(_),null,{default:r(()=>[...t[5]||(t[5]=[u("Shelf",-1)])]),_:1}),o(e(U),{modelValue:e(s).shelf,"onUpdate:modelValue":t[1]||(t[1]=i=>e(s).shelf=i)},null,8,["modelValue"]),e(s).errors.shelf?(d(),n("p",A,m(e(s).errors.shelf),1)):f("",!0)]),l("div",G,[o(e(_),null,{default:r(()=>[...t[6]||(t[6]=[u("Photo (optional)",-1)])]),_:1}),l("input",{type:"file",accept:"image/*",onChange:w,class:"w-full rounded border px-3 py-2"},null,32),e(s).errors.photo?(d(),n("p",H,m(e(s).errors.photo),1)):f("",!0),e(a).photo_path||e(a).photo_url?(d(),n("div",J,[l("img",{src:e(a).photo_url||`/storage/${e(a).photo_path}`,class:"h-24 w-auto rounded border",alt:"current photo"},null,8,K)])):f("",!0)]),l("div",O,[o(e(x),{disabled:p.value,onClick:B(b,["prevent"])},{default:r(()=>[u(m(p.value?"Saving...":"Save"),1)]),_:1},8,["disabled"]),o(e(x),{variant:"secondary",onClick:k},{default:r(()=>[...t[7]||(t[7]=[u("Cancel",-1)])]),_:1})])]),_:1})]),_:1})])]),_:1},8,["breadcrumbs"])],64))}});export{ie as default};
