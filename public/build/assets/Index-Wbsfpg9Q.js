import{d as $,c as d,a as l,u as s,h,w as a,b as e,l as w,g as i,o,F as x,r as R,t as u,f as c,i as y,m as C,j as b}from"./app-C3z3C6Qr.js";import{_ as f}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-D_iRLGtp.js";import{_ as q,a as N,b as I,c as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-CPR_LB69.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-DgraPTM6.js";import{_ as B,a as D,b as L,c as T,d as A}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DJPMFO6a.js";import{_ as F,a as Q}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DG5op2Cc.js";import{_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-DW9BdHvg.js";import"./useForwardPropsEmits-DnUITS-n.js";import"./index-CmcRMKc_.js";import"./VisuallyHidden-Vvtas9GG.js";import"./useForwardExpose-BJNPGo-H.js";import"./index-BsePJUay.js";import"./createLucideIcon-CnvI7Wr1.js";const E={class:"p-4"},O={class:"flex items-center justify-between mb-4"},S={class:"overflow-x-auto"},U={class:"w-full text-left text-sm"},G={class:"px-4 py-2"},H={class:"px-4 py-2"},J=["src"],K={key:1,class:"text-muted-foreground"},M={class:"px-4 py-2"},P={class:"px-4 py-2"},W={class:"px-4 py-2"},X={class:"px-4 py-2"},Y={class:"px-4 py-2 text-right"},Z={key:0},ee={key:0,class:"space-y-2"},te=["src"],se={key:1,class:"text-muted-foreground"},xe=$({__name:"Index",props:{receipts:{}},setup(_){const v=_,g=C(()=>{const p=v.receipts?.meta;return p?.from?p.from:p?.current_page&&p?.per_page?(p.current_page-1)*p.per_page+1:1}),m=b(!1),r=b(null);return(p,t)=>(o(),d(x,null,[l(s(h),{title:"Receipts"}),l(z,{breadcrumbs:[{title:"Receipts",href:"/receipts"}]},{default:a(()=>[e("div",E,[e("div",O,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-2xl font-bold"},"Receipts")],-1)),l(s(w),{href:"/receipts/create"},{default:a(()=>[l(s(f),null,{default:a(()=>[...t[1]||(t[1]=[i("Add Receipt",-1)])]),_:1})]),_:1})]),l(s(q),null,{default:a(()=>[l(s(N),null,{default:a(()=>[l(s(I),null,{default:a(()=>[...t[3]||(t[3]=[i("Receipts",-1)])]),_:1}),l(s(j),null,{default:a(()=>[...t[4]||(t[4]=[i("Immutable receipts",-1)])]),_:1})]),_:1}),l(s(V),null,{default:a(()=>[e("div",S,[e("table",U,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"border-b bg-muted/50"},[e("th",{class:"px-4 py-2"},"#"),e("th",{class:"px-4 py-2"},"QR"),e("th",{class:"px-4 py-2"},"Number"),e("th",{class:"px-4 py-2"},"Type"),e("th",{class:"px-4 py-2"},"Linked ID"),e("th",{class:"px-4 py-2"},"Created"),e("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),e("tbody",null,[(o(!0),d(x,null,R(_.receipts.data,(n,k)=>(o(),d("tr",{key:n.id,class:"border-b hover:bg-muted/30"},[e("td",G,u(g.value+k),1),e("td",H,[n.qr_code?(o(),d("img",{key:0,src:`/storage/${n.qr_code}`,alt:"qr",class:"w-12 h-12 object-contain rounded"},null,8,J)):(o(),d("span",K,"-"))]),e("td",M,u(n.receipt_number),1),e("td",P,u(n.type),1),e("td",W,u(n.linked_id||"-"),1),e("td",X,u(n.created_at),1),e("td",Y,[l(s(f),{variant:"outline",size:"sm",onClick:()=>{r.value=n,m.value=!0}},{default:a(()=>[...t[5]||(t[5]=[i("View",-1)])]),_:1},8,["onClick"])])]))),128)),_.receipts.data.length===0?(o(),d("tr",Z,[...t[6]||(t[6]=[e("td",{colspan:"7",class:"p-6 text-center text-muted-foreground"},"No receipts found.",-1)])])):c("",!0)])])])]),_:1})]),_:1}),l(s(B),{open:m.value,"onUpdate:open":t[0]||(t[0]=n=>m.value=n)},{default:a(()=>[l(s(D),{class:"sm:max-w-2xl max-w-full"},{default:a(()=>[l(s(L),{class:"border-b border-gray-200 dark:border-gray-700 pb-3 mb-3"},{default:a(()=>[r.value?(o(),y(s(T),{key:0},{default:a(()=>[i("Receipt #"+u(r.value.receipt_number),1)]),_:1})):c("",!0),r.value?(o(),y(s(A),{key:1},{default:a(()=>[i("Type: "+u(r.value.type),1)]),_:1})):c("",!0)]),_:1}),r.value?(o(),d("div",ee,[e("div",null,[t[8]||(t[8]=e("strong",null,"Linked ID:",-1)),i(" "+u(r.value.linked_id||"-"),1)]),e("div",null,[t[9]||(t[9]=e("strong",null,"Created:",-1)),i(" "+u(r.value.created_at),1)]),e("div",null,[t[10]||(t[10]=e("strong",null,"QR:",-1)),r.value.qr_code?(o(),d("img",{key:0,src:`/storage/${r.value.qr_code}`,alt:"qr",class:"w-24 h-24 object-contain rounded"},null,8,te)):(o(),d("div",se,"-"))])])):c("",!0),l(s(F),{class:"mt-4"},{default:a(()=>[l(s(Q),{"as-child":""},{default:a(()=>[l(s(f),{variant:"secondary"},{default:a(()=>[...t[11]||(t[11]=[i("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{xe as default};
