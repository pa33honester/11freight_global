import{d as V,k as $,c as a,a as o,u as e,h as k,w as l,b as d,g as m,e as C,p as g,o as u,t as c,f,n as E,F as b,r as N,q as U,s as D}from"./app-Ce1PEk3E.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Ce_KBTPN.js";import{_ as j,a as q,b as B,c as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-BWo3PFTo.js";import{_ as M}from"./CardDescription.vue_vue_type_script_setup_true_lang-J0qUB_QG.js";import{_ as W}from"./CardFooter.vue_vue_type_script_setup_true_lang-CqVFeEvL.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-BbOMO5jb.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-P1h1lBXv.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-D5_zQ9oX.js";import"./index-DN-339kb.js";import"./useForwardExpose-DdplqLb_.js";import"./VisuallyHidden-8lUJdWoX.js";import"./useForwardPropsEmits-BWT1dgiP.js";import"./index-BsePJUay.js";import"./createLucideIcon-DgoLutV8.js";const z={class:"flex h-full flex-1 flex-col gap-4 p-4"},I={class:"space-y-2"},L={key:0,class:"text-sm text-destructive"},P={class:"space-y-2"},R=["value"],T={key:0,class:"text-sm text-destructive"},A={class:"space-y-2"},G={class:"grid grid-cols-2 gap-4"},H={class:"space-y-2"},J={key:0,class:"text-sm text-destructive"},K={class:"space-y-2"},Q={key:0,class:"text-sm text-destructive"},ue=V({__name:"Edit",props:{shipment:{},customers:{}},setup(v){const n=v,x=[{title:"Shipments",href:"/shipments"},{title:"Edit",href:`/shipments/${n.shipment.id}/edit`}],t=$({shipment_code:n.shipment.shipment_code??"",customer_id:n.shipment.customer_id??n.customers?.[0]?.id??"",supplier_name:n.shipment.supplier_name??"",weight:n.shipment.weight??"",shelf_code:n.shipment.shelf_code??"",status:n.shipment.status??"RECEIVED"}),i=D({}),y=()=>{if(Object.keys(i).forEach(p=>delete i[p]),!t.shipment_code||!String(t.shipment_code).trim()?i.shipment_code="Shipment code is required.":String(t.shipment_code).length>50&&(i.shipment_code="Shipment code must be at most 50 characters."),t.customer_id||(i.customer_id="Please select a customer."),t.weight!==""&&t.weight!==null){const p=Number(t.weight);Number.isNaN(p)?i.weight="Weight must be a number.":p<0&&(i.weight="Weight cannot be negative.")}return t.shelf_code&&String(t.shelf_code).length>50&&(i.shelf_code="Shelf code must be at most 50 characters."),Object.keys(i).length===0},S=()=>{y()&&(t.clearErrors?.(),t.put(`/shipments/${n.shipment.id}`,{preserveScroll:!0}))};return(p,s)=>(u(),a(b,null,[o(e(k),{title:`Edit Shipment ${n.shipment.shipment_code}`},null,8,["title"]),o(O,{breadcrumbs:x},{default:l(()=>[d("div",z,[s[15]||(s[15]=d("div",null,[d("h1",{class:"text-3xl font-bold"},"Edit Shipment"),d("p",{class:"text-muted-foreground"},"Modify shipment details")],-1)),o(e(j),{class:"max-w-2xl"},{default:l(()=>[o(e(q),null,{default:l(()=>[o(e(B),null,{default:l(()=>[...s[6]||(s[6]=[m("Shipment Details",-1)])]),_:1}),o(e(M),null,{default:l(()=>[...s[7]||(s[7]=[m("Update details below",-1)])]),_:1})]),_:1}),d("form",{onSubmit:C(S,["prevent"])},[o(e(F),{class:"space-y-4 pb-8"},{default:l(()=>[d("div",I,[o(e(_),{for:"shipment_code"},{default:l(()=>[...s[8]||(s[8]=[m("Shipment Code ",-1),d("span",{class:"text-destructive"},"*",-1)])]),_:1}),o(e(h),{id:"shipment_code",modelValue:e(t).shipment_code,"onUpdate:modelValue":s[0]||(s[0]=r=>e(t).shipment_code=r),required:"",class:g({"border-destructive":i.shipment_code||e(t).errors.shipment_code})},null,8,["modelValue","class"]),i.shipment_code||e(t).errors.shipment_code?(u(),a("p",L,c(i.shipment_code||e(t).errors.shipment_code),1)):f("",!0)]),d("div",P,[o(e(_),{for:"customer_id"},{default:l(()=>[...s[9]||(s[9]=[m("Customer",-1)])]),_:1}),E(d("select",{id:"customer_id","onUpdate:modelValue":s[1]||(s[1]=r=>e(t).customer_id=r),class:"w-full rounded border px-3 py-2"},[s[10]||(s[10]=d("option",{value:""},"Select customer",-1)),(u(!0),a(b,null,N(v.customers,r=>(u(),a("option",{key:r.id,value:r.id},c(r.full_name),9,R))),128))],512),[[U,e(t).customer_id,void 0,{number:!0}]]),i.customer_id||e(t).errors.customer_id?(u(),a("p",T,c(i.customer_id||e(t).errors.customer_id),1)):f("",!0)]),d("div",A,[o(e(_),{for:"supplier_name"},{default:l(()=>[...s[11]||(s[11]=[m("Supplier",-1)])]),_:1}),o(e(h),{id:"supplier_name",modelValue:e(t).supplier_name,"onUpdate:modelValue":s[2]||(s[2]=r=>e(t).supplier_name=r)},null,8,["modelValue"])]),d("div",G,[d("div",H,[o(e(_),{for:"weight"},{default:l(()=>[...s[12]||(s[12]=[m("Weight",-1)])]),_:1}),o(e(h),{id:"weight",modelValue:e(t).weight,"onUpdate:modelValue":s[3]||(s[3]=r=>e(t).weight=r),type:"number",step:"0.01",class:g({"border-destructive":i.weight||e(t).errors.weight})},null,8,["modelValue","class"]),i.weight||e(t).errors.weight?(u(),a("p",J,c(i.weight||e(t).errors.weight),1)):f("",!0)]),d("div",K,[o(e(_),{for:"shelf_code"},{default:l(()=>[...s[13]||(s[13]=[m("Shelf Code",-1)])]),_:1}),o(e(h),{id:"shelf_code",modelValue:e(t).shelf_code,"onUpdate:modelValue":s[4]||(s[4]=r=>e(t).shelf_code=r),class:g({"border-destructive":i.shelf_code||e(t).errors.shelf_code})},null,8,["modelValue","class"]),i.shelf_code||e(t).errors.shelf_code?(u(),a("p",Q,c(i.shelf_code||e(t).errors.shelf_code),1)):f("",!0)])])]),_:1}),o(e(W),{class:"flex justify-between"},{default:l(()=>[o(e(w),{type:"button",variant:"outline",onClick:s[5]||(s[5]=r=>p.$inertia.visit("/shipments"))},{default:l(()=>[...s[14]||(s[14]=[m("Cancel",-1)])]),_:1}),o(e(w),{type:"submit",disabled:e(t).processing},{default:l(()=>[m(c(e(t).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})])]),_:1})],64))}});export{ue as default};
