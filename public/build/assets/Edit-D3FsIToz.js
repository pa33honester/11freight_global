import{d as C,k as N,c,a as s,u as e,h as S,w as i,b as o,g as n,e as D,A as m,o as _,t as p,f as v,n as $,q as k,F as A,B as w}from"./app-DbnlkrMv.js";import{_ as x}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BWY_apWj.js";import{_ as I,a as U,b as R,c as O}from"./CardTitle.vue_vue_type_script_setup_true_lang-CeUdLFNC.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-D3btJlsr.js";import{_ as B}from"./CardFooter.vue_vue_type_script_setup_true_lang-eqdu69gT.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-Bd-3t3Tw.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-QaAtDQn8.js";import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-CKPnZjkL.js";import"./index-Bpt89bPj.js";import"./useForwardExpose-C_L76eIi.js";import"./VisuallyHidden-BYSOKA-6.js";import"./useForwardPropsEmits-BemXgQIs.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-Cu1DnD-A.js";const q={class:"flex h-full flex-1 flex-col gap-4 p-4"},F={class:"space-y-2"},P={key:0,class:"text-sm text-destructive"},L={class:"space-y-2"},M={class:"grid grid-cols-2 gap-4"},z={class:"space-y-2"},G={key:0,class:"text-sm text-destructive"},H={class:"space-y-2"},J={key:0,class:"text-sm text-destructive"},de=C({__name:"Edit",props:{container:{}},setup(g){const l=g,y=[{title:"Containers",href:"/containers"},{title:"Edit",href:`/containers/${l.container.id}/edit`}],a=N({container_code:l.container.container_code,status:l.container.status||"OPEN",departure_date:l.container.departure_date||"",arrival_date:l.container.arrival_date||""}),r=w({}),E=()=>{Object.keys(r).forEach(d=>delete r[d]),!a.container_code||!String(a.container_code).trim()?r.container_code="Container code is required.":String(a.container_code).length>50&&(r.container_code="Container code must be at most 50 characters.");const u=a.departure_date,t=a.arrival_date;return u&&isNaN(Date.parse(String(u)))&&(r.departure_date="Invalid departure date."),t&&isNaN(Date.parse(String(t)))&&(r.arrival_date="Invalid arrival date."),!r.departure_date&&!r.arrival_date&&u&&t&&Date.parse(String(t))<Date.parse(String(u))&&(r.arrival_date="Arrival date cannot be before departure date."),Object.keys(r).length===0},V=()=>{E()&&(a.clearErrors?.(),a.put(`/containers/${l.container.id}`,{preserveScroll:!0}))};return(u,t)=>(_(),c(A,null,[s(e(S),{title:"Edit Container"}),s(j,{breadcrumbs:y},{default:i(()=>[o("div",q,[t[13]||(t[13]=o("div",null,[o("h1",{class:"text-3xl font-bold"},"Edit Container"),o("p",{class:"text-muted-foreground"},"Update container")],-1)),s(e(I),{class:"max-w-2xl"},{default:i(()=>[s(e(U),null,{default:i(()=>[s(e(R),null,{default:i(()=>[...t[5]||(t[5]=[n("Container Details",-1)])]),_:1}),s(e(T),null,{default:i(()=>[...t[6]||(t[6]=[n("Update fields below",-1)])]),_:1})]),_:1}),o("form",{onSubmit:D(V,["prevent"])},[s(e(O),{class:"space-y-4 pb-8"},{default:i(()=>[o("div",F,[s(e(f),{for:"container_code"},{default:i(()=>[...t[7]||(t[7]=[n("Container Code ",-1),o("span",{class:"text-destructive"},"*",-1)])]),_:1}),s(e(b),{id:"container_code",modelValue:e(a).container_code,"onUpdate:modelValue":t[0]||(t[0]=d=>e(a).container_code=d),required:"",class:m({"border-destructive":r.container_code||e(a).errors.container_code})},null,8,["modelValue","class"]),r.container_code||e(a).errors.container_code?(_(),c("p",P,p(r.container_code||e(a).errors.container_code),1)):v("",!0)]),o("div",L,[s(e(f),{for:"status"},{default:i(()=>[...t[8]||(t[8]=[n("Status",-1)])]),_:1}),$(o("select",{"onUpdate:modelValue":t[1]||(t[1]=d=>e(a).status=d),class:"w-full rounded border px-3 py-2"},[...t[9]||(t[9]=[o("option",{value:"OPEN"},"OPEN",-1),o("option",{value:"SEALED"},"SEALED",-1),o("option",{value:"IN_TRANSIT"},"IN_TRANSIT",-1),o("option",{value:"ARRIVED"},"ARRIVED",-1)])],512),[[k,e(a).status]])]),o("div",M,[o("div",z,[s(e(f),{for:"departure_date"},{default:i(()=>[...t[10]||(t[10]=[n("Departure Date",-1)])]),_:1}),s(e(b),{id:"departure_date",modelValue:e(a).departure_date,"onUpdate:modelValue":t[2]||(t[2]=d=>e(a).departure_date=d),type:"date",class:m({"border-destructive":r.departure_date||e(a).errors.departure_date})},null,8,["modelValue","class"]),r.departure_date||e(a).errors.departure_date?(_(),c("p",G,p(r.departure_date||e(a).errors.departure_date),1)):v("",!0)]),o("div",H,[s(e(f),{for:"arrival_date"},{default:i(()=>[...t[11]||(t[11]=[n("Arrival Date",-1)])]),_:1}),s(e(b),{id:"arrival_date",modelValue:e(a).arrival_date,"onUpdate:modelValue":t[3]||(t[3]=d=>e(a).arrival_date=d),type:"date",class:m({"border-destructive":r.arrival_date||e(a).errors.arrival_date})},null,8,["modelValue","class"]),r.arrival_date||e(a).errors.arrival_date?(_(),c("p",J,p(r.arrival_date||e(a).errors.arrival_date),1)):v("",!0)])])]),_:1}),s(e(B),{class:"flex justify-between"},{default:i(()=>[s(e(x),{type:"button",variant:"outline",onClick:t[4]||(t[4]=d=>u.$inertia.visit("/containers"))},{default:i(()=>[...t[12]||(t[12]=[n("Cancel",-1)])]),_:1}),s(e(x),{type:"submit",disabled:e(a).processing},{default:i(()=>[n(p(e(a).processing?"Updating...":"Update Container"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})])]),_:1})],64))}});export{de as default};
