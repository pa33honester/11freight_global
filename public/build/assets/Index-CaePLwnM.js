import{d as B,c as x,a as l,u as s,h as T,w as n,b as e,l as S,g as a,o as y,F as c,r as j,t as i,f as E,j as m,x as F}from"./app-ZoMEvklz.js";import{_ as r}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CSrLiVPg.js";import{_ as L,a as O,b as U,c as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-FJdKs83x.js";import{_ as G}from"./CardDescription.vue_vue_type_script_setup_true_lang-DH2VU6NV.js";import{_ as $,a as w,b as C,c as k}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BUng5hS9.js";import{_ as D,a as V}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BRSR6aJy.js";import{_ as N}from"./DialogDescription.vue_vue_type_script_setup_true_lang-n_4U53fr.js";import{_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-D_gnfnQh.js";import"./useForwardPropsEmits-CGUFY8cM.js";import"./index-CsgO9ZAL.js";import"./VisuallyHidden-BGncnRsO.js";import"./useForwardExpose-CuBcqR0n.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-Db4teo7l.js";const J={class:"p-4"},K={class:"flex items-center justify-between mb-4"},M={class:"overflow-x-auto"},Q={class:"w-full text-left text-sm"},R={class:"px-4 py-2"},W={class:"px-4 py-2"},X={class:"px-4 py-2"},Y={class:"px-4 py-2 text-right space-x-2"},Z={key:0},h={class:"mt-2 text-sm"},tt={class:"mt-2 text-sm space-y-2"},_t=B({__name:"Index",props:{settlements:{},viewSettlement:{}},setup(g){const b=g,d=m(null),p=m(!1),f=m(!1),P=_=>{d.value=_,f.value=!0},A=async()=>{d.value&&(p.value=!0,await F.delete(`/supplier-settlements/${d.value}`,{preserveScroll:!0}),p.value=!1,f.value=!1,d.value=null)},v=m(!1),o=m(null),I=_=>{o.value=_,v.value=!0};return b.viewSettlement&&(o.value=b.viewSettlement,v.value=!0),(_,t)=>(y(),x(c,null,[l(s(T),{title:"Supplier Settlements"}),l(H,{breadcrumbs:[{title:"Supplier Settlements",href:"/supplier-settlements"}]},{default:n(()=>[e("div",J,[e("div",K,[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-2xl font-bold"},"Supplier Settlements"),e("p",{class:"text-muted-foreground"},"Trade facilitation supplier settlements")],-1)),l(s(S),{href:"/supplier-settlements/create"},{default:n(()=>[l(s(r),null,{default:n(()=>[...t[2]||(t[2]=[a("Add Settlement",-1)])]),_:1})]),_:1})]),l(s(L),null,{default:n(()=>[l(s(O),null,{default:n(()=>[l(s(U),null,{default:n(()=>[...t[4]||(t[4]=[a("Settlements",-1)])]),_:1}),l(s(G),null,{default:n(()=>[...t[5]||(t[5]=[a("List of supplier settlements",-1)])]),_:1})]),_:1}),l(s(q),null,{default:n(()=>[e("div",M,[e("table",Q,[t[10]||(t[10]=e("thead",null,[e("tr",{class:"border-b bg-muted/50"},[e("th",{class:"px-4 py-2"},"Supplier"),e("th",{class:"px-4 py-2"},"Payment"),e("th",{class:"px-4 py-2"},"Status"),e("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),e("tbody",null,[(y(!0),x(c,null,j(g.settlements.data,u=>(y(),x("tr",{key:u.id,class:"border-b hover:bg-muted/30"},[e("td",R,i(u.supplier_name||"-"),1),e("td",W,i(u.payment?.id||"-"),1),e("td",X,i(u.status),1),e("td",Y,[l(s(r),{class:"cursor-pointer",variant:"outline",size:"sm",onClick:z=>I(u)},{default:n(()=>[...t[6]||(t[6]=[a("View",-1)])]),_:1},8,["onClick"]),l(s(S),{href:`/supplier-settlements/${u.id}/edit`},{default:n(()=>[l(s(r),{class:"cursor-pointer",variant:"secondary",size:"sm"},{default:n(()=>[...t[7]||(t[7]=[a("Edit",-1)])]),_:1})]),_:1},8,["href"]),l(s(r),{class:"cursor-pointer",variant:"destructive",size:"sm",onClick:z=>P(u.id)},{default:n(()=>[...t[8]||(t[8]=[a("Delete",-1)])]),_:1},8,["onClick"])])]))),128)),g.settlements.data.length===0?(y(),x("tr",Z,[...t[9]||(t[9]=[e("td",{colspan:"4",class:"p-6 text-center text-muted-foreground"},"No settlements found.",-1)])])):E("",!0)])])])]),_:1})]),_:1}),l(s($),{open:f.value,"onUpdate:open":t[0]||(t[0]=u=>f.value=u)},{default:n(()=>[l(s(w),{class:"sm:max-w-md"},{default:n(()=>[l(s(C),null,{default:n(()=>[l(s(k),null,{default:n(()=>[...t[11]||(t[11]=[a("Delete settlement",-1)])]),_:1}),l(s(N),null,{default:n(()=>[...t[12]||(t[12]=[a("Are you sure you want to delete this settlement? This action cannot be undone.",-1)])]),_:1})]),_:1}),e("div",h,[t[13]||(t[13]=e("strong",null,"Settlement ID:",-1)),a(" "+i(d.value||"-"),1)]),l(s(D),{class:"gap-2 mt-4"},{default:n(()=>[l(s(V),{"as-child":""},{default:n(()=>[l(s(r),{variant:"secondary"},{default:n(()=>[...t[14]||(t[14]=[a("Cancel",-1)])]),_:1})]),_:1}),l(s(r),{variant:"destructive",disabled:p.value,onClick:A},{default:n(()=>[a(i(p.value?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),l(s($),{open:v.value,"onUpdate:open":t[1]||(t[1]=u=>v.value=u)},{default:n(()=>[l(s(w),{class:"sm:max-w-2xl"},{default:n(()=>[l(s(C),null,{default:n(()=>[l(s(k),null,{default:n(()=>[...t[15]||(t[15]=[a("Supplier settlement",-1)])]),_:1}),l(s(N),null,{default:n(()=>[...t[16]||(t[16]=[a("Details for supplier settlement",-1)])]),_:1})]),_:1}),e("div",tt,[e("div",null,[t[17]||(t[17]=e("strong",null,"Supplier:",-1)),a(" "+i(o.value?.supplier_name||"-"),1)]),e("div",null,[t[18]||(t[18]=e("strong",null,"Payment ID:",-1)),a(" "+i(o.value?.payment?.id||"-"),1)]),e("div",null,[t[19]||(t[19]=e("strong",null,"Status:",-1)),a(" "+i(o.value?.status),1)]),e("div",null,[t[20]||(t[20]=e("strong",null,"Proof Path:",-1)),a(" "+i(o.value?.proof_path||"-"),1)]),e("div",null,[t[21]||(t[21]=e("strong",null,"Created At:",-1)),a(" "+i(o.value?.created_at),1)])]),l(s(D),{class:"gap-2 mt-4"},{default:n(()=>[l(s(V),{"as-child":""},{default:n(()=>[l(s(r),{variant:"secondary"},{default:n(()=>[...t[22]||(t[22]=[a("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{_t as default};
