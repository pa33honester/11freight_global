import{d as V,k as S,c as m,a as r,u as e,h as $,w as i,b as a,g as d,e as k,n as E,o as u,F as g,r as N,t as f,q as B,f as _,A as b,B as D}from"./app-DNb8IJsK.js";import{_ as v}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CkWNvQIC.js";import{_ as U,a as j,b as F,c as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-CfDtNh6H.js";import{_ as A}from"./CardDescription.vue_vue_type_script_setup_true_lang-QBLwV4Q0.js";import{_ as M}from"./CardFooter.vue_vue_type_script_setup_true_lang-WdQSKmlU.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-CMyGYGdF.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-YGsheL4-.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-DxWm94Ns.js";import"./index-DwsDudaH.js";import"./useForwardExpose-C8bIEs-7.js";import"./VisuallyHidden-DyUMFNvN.js";import"./useForwardPropsEmits-eZ90ZgMN.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-A9GGF9lC.js";const q={class:"flex h-full flex-1 flex-col gap-4 p-4"},z={class:"space-y-2"},I=["value"],L={key:0,class:"text-sm text-destructive"},P={class:"space-y-2"},R={class:"grid grid-cols-2 gap-4"},T={class:"space-y-2"},G={key:0,class:"text-sm text-destructive"},H={class:"space-y-2"},J={key:0,class:"text-sm text-destructive"},ne=V({__name:"Create",props:{customers:{}},setup(h){const w=h,x=[{title:"Shipments",href:"/shipments"},{title:"Create",href:"/shipments/create"}],s=S({shipment_code:"",customer_id:w.customers?.[0]?.id??"",supplier_name:"",weight:"",shelf_code:"",status:"RECEIVED"}),o=D({}),y=()=>{if(Object.keys(o).forEach(n=>delete o[n]),s.customer_id||(o.customer_id="Please select a customer."),s.weight!==""&&s.weight!==null){const n=Number(s.weight);Number.isNaN(n)?o.weight="Weight must be a number.":n<0&&(o.weight="Weight cannot be negative.")}return s.shelf_code&&String(s.shelf_code).length>50&&(o.shelf_code="Shelf code must be at most 50 characters."),Object.keys(o).length===0},C=()=>{y()&&(s.clearErrors?.(),s.post("/shipments",{preserveScroll:!0}))};return(n,t)=>(u(),m(g,null,[r(e($),{title:"Create Shipment"}),r(O,{breadcrumbs:x},{default:i(()=>[a("div",q,[t[13]||(t[13]=a("div",null,[a("h1",{class:"text-3xl font-bold"},"Create Shipment"),a("p",{class:"text-muted-foreground"},"Add a new shipment")],-1)),r(e(U),{class:"max-w-2xl"},{default:i(()=>[r(e(j),null,{default:i(()=>[r(e(F),null,{default:i(()=>[...t[5]||(t[5]=[d("Shipment Details",-1)])]),_:1}),r(e(A),null,{default:i(()=>[...t[6]||(t[6]=[d("Enter details below",-1)])]),_:1})]),_:1}),a("form",{onSubmit:k(C,["prevent"])},[r(e(W),{class:"space-y-4 pb-8"},{default:i(()=>[a("div",z,[r(e(p),{for:"customer_id"},{default:i(()=>[...t[7]||(t[7]=[d("Customer",-1)])]),_:1}),E(a("select",{id:"customer_id","onUpdate:modelValue":t[0]||(t[0]=l=>e(s).customer_id=l),class:"w-full rounded border px-3 py-2"},[t[8]||(t[8]=a("option",{value:""},"Select customer",-1)),(u(!0),m(g,null,N(h.customers,l=>(u(),m("option",{key:l.id,value:l.id},f(l.full_name),9,I))),128))],512),[[B,e(s).customer_id,void 0,{number:!0}]]),o.customer_id||e(s).errors.customer_id?(u(),m("p",L,f(o.customer_id||e(s).errors.customer_id),1)):_("",!0)]),a("div",P,[r(e(p),{for:"supplier_name"},{default:i(()=>[...t[9]||(t[9]=[d("Supplier",-1)])]),_:1}),r(e(c),{id:"supplier_name",modelValue:e(s).supplier_name,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).supplier_name=l)},null,8,["modelValue"])]),a("div",R,[a("div",T,[r(e(p),{for:"weight"},{default:i(()=>[...t[10]||(t[10]=[d("Weight",-1)])]),_:1}),r(e(c),{id:"weight",modelValue:e(s).weight,"onUpdate:modelValue":t[2]||(t[2]=l=>e(s).weight=l),type:"number",step:"0.01",class:b({"border-destructive":o.weight||e(s).errors.weight})},null,8,["modelValue","class"]),o.weight||e(s).errors.weight?(u(),m("p",G,f(o.weight||e(s).errors.weight),1)):_("",!0)]),a("div",H,[r(e(p),{for:"shelf_code"},{default:i(()=>[...t[11]||(t[11]=[d("Shelf Code",-1)])]),_:1}),r(e(c),{id:"shelf_code",modelValue:e(s).shelf_code,"onUpdate:modelValue":t[3]||(t[3]=l=>e(s).shelf_code=l),class:b({"border-destructive":o.shelf_code||e(s).errors.shelf_code})},null,8,["modelValue","class"]),o.shelf_code||e(s).errors.shelf_code?(u(),m("p",J,f(o.shelf_code||e(s).errors.shelf_code),1)):_("",!0)])])]),_:1}),r(e(M),{class:"flex justify-between"},{default:i(()=>[r(e(v),{type:"button",variant:"outline",onClick:t[4]||(t[4]=l=>n.$inertia.visit("/shipments"))},{default:i(()=>[...t[12]||(t[12]=[d("Cancel",-1)])]),_:1}),r(e(v),{type:"submit",disabled:e(s).processing},{default:i(()=>[d(f(e(s).processing?"Creating...":"Create Shipment"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})])]),_:1})],64))}});export{ne as default};
