import{d as $,c as r,a as s,u as a,h as k,w as l,b as e,l as w,g as d,o as i,F as f,r as R,t as p,f as x,y as C,j as g}from"./app-ZoMEvklz.js";import{_ as m}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CSrLiVPg.js";import{_ as I,a as V,b as N,c as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-FJdKs83x.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-DH2VU6NV.js";import{_ as B,a as A,b as D,c as F}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BUng5hS9.js";import{_ as L,a as T}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BRSR6aJy.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-D_gnfnQh.js";import"./useForwardPropsEmits-CGUFY8cM.js";import"./index-CsgO9ZAL.js";import"./VisuallyHidden-BGncnRsO.js";import"./useForwardExpose-CuBcqR0n.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-Db4teo7l.js";const z={class:"p-4"},E={class:"flex items-center justify-between mb-4"},O={class:"overflow-x-auto"},Q={class:"w-full text-left text-sm"},S={class:"px-4 py-2"},G={class:"px-4 py-2"},H=["src"],J={key:1,class:"text-muted-foreground"},K={class:"px-4 py-2"},M={class:"px-4 py-2"},P={class:"px-4 py-2"},W={class:"px-4 py-2"},X={class:"px-4 py-2 text-right"},Y={key:0},Z={class:"flex items-center justify-center bg-muted rounded-lg p-4 min-h-96"},ee=["src"],fe=$({__name:"Index",props:{receipts:{}},setup(c){const y=c,b=C(()=>{const o=y.receipts?.meta;return o?.from?o.from:o?.current_page&&o?.per_page?(o.current_page-1)*o.per_page+1:1}),u=g(!1),_=g(null),h=o=>{_.value=o,u.value=!0};return(o,t)=>(i(),r(f,null,[s(a(k),{title:"Receipts"}),s(U,{breadcrumbs:[{title:"Receipts",href:"/receipts"}]},{default:l(()=>[e("div",z,[e("div",E,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-2xl font-bold"},"Receipts")],-1)),s(a(w),{href:"/receipts/create"},{default:l(()=>[s(a(m),null,{default:l(()=>[...t[1]||(t[1]=[d("Add Receipt",-1)])]),_:1})]),_:1})]),s(a(I),null,{default:l(()=>[s(a(V),null,{default:l(()=>[s(a(N),null,{default:l(()=>[...t[3]||(t[3]=[d("Receipts",-1)])]),_:1}),s(a(q),null,{default:l(()=>[...t[4]||(t[4]=[d("Immutable receipts",-1)])]),_:1})]),_:1}),s(a(j),null,{default:l(()=>[e("div",O,[e("table",Q,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"border-b bg-muted/50"},[e("th",{class:"px-4 py-2"},"#"),e("th",{class:"px-4 py-2"},"QR"),e("th",{class:"px-4 py-2"},"Number"),e("th",{class:"px-4 py-2"},"Type"),e("th",{class:"px-4 py-2"},"Linked ID"),e("th",{class:"px-4 py-2"},"Created"),e("th",{class:"px-4 py-2 text-right"},"Actions")])],-1)),e("tbody",null,[(i(!0),r(f,null,R(c.receipts.data,(n,v)=>(i(),r("tr",{key:n.id,class:"border-b hover:bg-muted/30"},[e("td",S,p(b.value+v),1),e("td",G,[n.qr_code?(i(),r("img",{key:0,src:`/storage/${n.qr_code}`,alt:"qr",class:"w-12 h-12 object-contain rounded"},null,8,H)):(i(),r("span",J,"-"))]),e("td",K,p(n.receipt_number),1),e("td",M,p(n.type),1),e("td",P,p(n.linked_id||"-"),1),e("td",W,p(n.created_at),1),e("td",X,[s(a(m),{variant:"outline",size:"sm",onClick:te=>h(`/storage/receipts_images/${n.receipt_number}.png`)},{default:l(()=>[...t[5]||(t[5]=[d("View",-1)])]),_:1},8,["onClick"])])]))),128)),c.receipts.data.length===0?(i(),r("tr",Y,[...t[6]||(t[6]=[e("td",{colspan:"7",class:"p-6 text-center text-muted-foreground"},"No receipts found.",-1)])])):x("",!0)])])])]),_:1})]),_:1}),s(a(B),{open:u.value,"onUpdate:open":t[0]||(t[0]=n=>u.value=n)},{default:l(()=>[s(a(A),{class:"sm:max-w-4xl"},{default:l(()=>[s(a(D),null,{default:l(()=>[s(a(F),null,{default:l(()=>[...t[8]||(t[8]=[d("Receipt Image",-1)])]),_:1})]),_:1}),e("div",Z,[_.value?(i(),r("img",{key:0,src:_.value,class:"max-w-full max-h-[600px] rounded",alt:"Receipt image"},null,8,ee)):x("",!0)]),s(a(L),null,{default:l(()=>[s(a(T),{"as-child":""},{default:l(()=>[s(a(m),{variant:"secondary"},{default:l(()=>[...t[9]||(t[9]=[d("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{fe as default};
