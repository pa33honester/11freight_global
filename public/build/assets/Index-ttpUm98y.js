import{d as $,c as i,a as t,u as s,h as k,w as l,b as e,l as _,g as d,o as u,F as b,r as y,t as r,f as g,i as D,A,j as x,x as N}from"./app-ZoMEvklz.js";import{_ as f}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CSrLiVPg.js";import{_ as P,a as V,b as B,c as S}from"./CardTitle.vue_vue_type_script_setup_true_lang-FJdKs83x.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-DH2VU6NV.js";import{_ as j,a as z,b as F,c as L}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BUng5hS9.js";import{_ as E,a as I}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BRSR6aJy.js";import{_ as M}from"./DialogDescription.vue_vue_type_script_setup_true_lang-n_4U53fr.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-D_gnfnQh.js";import{P as U,a as W,T as q}from"./trash-2-CaxbCNwq.js";import"./useForwardPropsEmits-CGUFY8cM.js";import"./index-CsgO9ZAL.js";import"./VisuallyHidden-BGncnRsO.js";import"./useForwardExpose-CuBcqR0n.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-Db4teo7l.js";const G={class:"flex h-full flex-1 flex-col gap-4 p-4"},H={class:"flex items-center justify-between"},J={class:"overflow-x-auto"},K={class:"w-full border-collapse text-left text-sm"},Q={class:"px-4 py-3"},R={class:"px-4 py-3"},X={class:"px-4 py-3"},Y={class:"px-4 py-3"},Z={class:"px-4 py-3"},ee={class:"px-4 py-3 text-right space-x-2"},te={key:0,class:"border-b border-border"},se={key:0,class:"flex items-center justify-between mt-6 pt-6 border-t border-border"},ae={class:"text-sm text-muted-foreground"},le={class:"flex gap-2"},oe={class:"text-sm"},Ce=$({__name:"Index",props:{customers:{}},setup(n){const h=[{title:"Customers",href:"/customers"}],c=x(!1),m=x(null),p=x(!1),C=v=>{m.value=v,c.value=!0},w=async()=>{m.value&&(p.value=!0,await N.delete(`/customers/${m.value}`,{preserveScroll:!0}),p.value=!1,c.value=!1,m.value=null)};return(v,a)=>(u(),i(b,null,[t(s(k),{title:"Customers"}),t(O,{breadcrumbs:h},{default:l(()=>[e("div",G,[e("div",H,[a[2]||(a[2]=e("div",null,[e("h1",{class:"text-3xl font-bold"},"Customers"),e("p",{class:"text-muted-foreground"}," Manage your customer database ")],-1)),t(s(_),{href:"/customers/create"},{default:l(()=>[t(s(f),null,{default:l(()=>[t(s(U),{class:"mr-2 h-4 w-4"}),a[1]||(a[1]=d(" Add Customer ",-1))]),_:1})]),_:1})]),t(s(P),null,{default:l(()=>[t(s(V),null,{default:l(()=>[t(s(B),null,{default:l(()=>[...a[3]||(a[3]=[d("Customer List",-1)])]),_:1}),t(s(T),null,{default:l(()=>[...a[4]||(a[4]=[d(" View and manage all customers ",-1)])]),_:1})]),_:1}),t(s(S),{class:"pb-8"},{default:l(()=>[e("div",J,[e("table",K,[a[6]||(a[6]=e("thead",null,[e("tr",{class:"border-b border-border bg-muted/50"},[e("th",{class:"px-4 py-3 font-medium"}," Customer Code "),e("th",{class:"px-4 py-3 font-medium"}," Full Name "),e("th",{class:"px-4 py-3 font-medium"}," Phone "),e("th",{class:"px-4 py-3 font-medium"}," WhatsApp "),e("th",{class:"px-4 py-3 font-medium"}," Created At "),e("th",{class:"px-4 py-3 font-medium text-right"}," Actions ")])],-1)),e("tbody",null,[(u(!0),i(b,null,y(n.customers.data,o=>(u(),i("tr",{key:o.id,class:"border-b border-border hover:bg-muted/30 transition-colors"},[e("td",Q,r(o.customer_code||"-"),1),e("td",R,r(o.full_name),1),e("td",X,r(o.phone||"-"),1),e("td",Y,r(o.whatsapp_number||"-"),1),e("td",Z,r(new Date(o.created_at).toLocaleDateString()),1),e("td",ee,[t(s(_),{href:`/customers/${o.id}/edit`},{default:l(()=>[t(s(f),{variant:"outline",size:"sm"},{default:l(()=>[t(s(W),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),t(s(f),{variant:"destructive",size:"sm",onClick:re=>C(o.id)},{default:l(()=>[t(s(q),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]))),128)),n.customers.data.length===0?(u(),i("tr",te,[...a[5]||(a[5]=[e("td",{colspan:"6",class:"px-4 py-8 text-center text-muted-foreground"}," No customers found. Create your first customer to get started. ",-1)])])):g("",!0)])])]),n.customers.last_page>1?(u(),i("div",se,[e("div",ae," Showing "+r(n.customers.data.length)+" of "+r(n.customers.total)+" customers ",1),e("div",le,[(u(!0),i(b,null,y(n.customers.links,o=>(u(),D(s(_),{key:o.label,href:o.url||"#",class:A(["px-3 py-1 rounded border",o.active?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:bg-muted",o.url?"":"opacity-50 cursor-not-allowed"]),disabled:!o.url},{default:l(()=>[d(r(o.label.replace(/«|»/g,"")),1)]),_:2},1032,["href","class","disabled"]))),128))])])):g("",!0)]),_:1})]),_:1}),t(s(j),{open:c.value,"onUpdate:open":a[0]||(a[0]=o=>c.value=o)},{default:l(()=>[t(s(z),{class:"sm:max-w-md"},{default:l(()=>[t(s(F),{class:"space-y-3"},{default:l(()=>[t(s(L),null,{default:l(()=>[...a[7]||(a[7]=[d("Delete customer",-1)])]),_:1}),t(s(M),null,{default:l(()=>[...a[8]||(a[8]=[d(" Are you sure you want to delete this customer? This action cannot be undone. ",-1)])]),_:1})]),_:1}),e("div",oe,[e("p",null,[a[9]||(a[9]=e("strong",null,"Customer:",-1)),d(" "+r((n.customers.data.find(o=>o.id===m.value)||{full_name:"-"}).full_name),1)])]),t(s(E),{class:"gap-2 mt-4"},{default:l(()=>[t(s(I),{"as-child":""},{default:l(()=>[t(s(f),{variant:"secondary"},{default:l(()=>[...a[10]||(a[10]=[d("Cancel",-1)])]),_:1})]),_:1}),t(s(f),{variant:"destructive",disabled:p.value,onClick:w},{default:l(()=>[d(r(p.value?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{Ce as default};
