import{d as P,j as f,m as O,c,a,u as l,h as H,w as o,b as e,l as E,g as i,n as D,p as U,v as F,q as A,o as u,F as S,r as I,t as n,f as $,i as L,A as q,s as B,x as V}from"./app-DNb8IJsK.js";import{_ as p}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CkWNvQIC.js";import{_ as j,a as z,b as M,c as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-CfDtNh6H.js";import{_ as G}from"./CardDescription.vue_vue_type_script_setup_true_lang-QBLwV4Q0.js";import{_ as K,a as J,b as Q,c as X}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Ii6j11VP.js";import{_ as Y,a as Z}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BYxLm8ff.js";import{_ as ee}from"./DialogDescription.vue_vue_type_script_setup_true_lang-C92bP3uc.js";import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-DxWm94Ns.js";import{P as se,a as ae,T as le}from"./trash-2-D2oj9KVD.js";import"./useForwardPropsEmits-eZ90ZgMN.js";import"./index-DwsDudaH.js";import"./VisuallyHidden-DyUMFNvN.js";import"./useForwardExpose-C8bIEs-7.js";import"./index-n1LTNkzM.js";import"./createLucideIcon-A9GGF9lC.js";const oe={class:"flex h-full flex-1 flex-col gap-4 p-4"},ne={class:"flex items-center justify-between"},ie={class:"p-4 flex gap-3 items-center"},re={class:"overflow-x-auto"},de={class:"w-full border-collapse text-left text-sm"},ue={class:"px-4 py-3"},pe={class:"px-4 py-3"},me={class:"px-4 py-3"},fe={class:"px-4 py-3"},ce={class:"px-4 py-3"},_e={class:"px-4 py-3"},ve={class:"px-4 py-3"},he={class:"px-4 py-3 text-right space-x-2"},xe={key:0,class:"border-b border-border"},be={key:0,class:"flex items-center justify-between mt-6 pt-6 border-t border-border"},ge={class:"text-sm text-muted-foreground"},ye={class:"flex gap-2"},we={class:"text-sm"},Le=P({__name:"Index",props:{shipments:{}},setup(r){const C=r,y=B().props.value,m=f(y?.filters?.q??""),_=f(y?.filters?.status??""),v=f(y?.filters?.per_page??C.shipments.per_page??10),x=()=>{const d={};m.value&&(d.q=m.value),_.value&&(d.status=_.value),v.value&&(d.per_page=v.value),V.get("/shipments",d,{preserveState:!0,replace:!0})},N=()=>{m.value="",_.value="",v.value=C.shipments.per_page??10,x()};let w=null;O(m,()=>{w&&window.clearTimeout(w),w=window.setTimeout(()=>{x()},500)});const R=[{title:"Shipments",href:"/shipments"}],b=f(!1),h=f(null),g=f(!1),T=d=>{h.value=d,b.value=!0},k=async()=>{h.value&&(g.value=!0,await V.delete(`/shipments/${h.value}`,{preserveScroll:!0}),g.value=!1,b.value=!1,h.value=null)};return(d,t)=>(u(),c(S,null,[a(l(H),{title:"Shipments"}),a(te,{breadcrumbs:R},{default:o(()=>[e("div",oe,[e("div",ne,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-3xl font-bold"},"Shipments"),e("p",{class:"text-muted-foreground"},"Manage shipments")],-1)),a(l(E),{href:"/shipments/create"},{default:o(()=>[a(l(p),null,{default:o(()=>[a(l(se),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=i(" Add Shipment ",-1))]),_:1})]),_:1})]),a(l(j),null,{default:o(()=>[a(l(z),null,{default:o(()=>[a(l(M),null,{default:o(()=>[...t[6]||(t[6]=[i("Shipment List",-1)])]),_:1}),a(l(G),null,{default:o(()=>[...t[7]||(t[7]=[i("View and manage shipments",-1)])]),_:1})]),_:1}),e("div",ie,[D(e("input",{type:"search","onUpdate:modelValue":t[0]||(t[0]=s=>m.value=s),onKeyup:U(x,["enter"]),placeholder:"Search shipments...",class:"rounded border px-3 py-2 w-64"},null,544),[[F,m.value]]),D(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>_.value=s),class:"rounded border px-3 py-2"},[...t[8]||(t[8]=[e("option",{value:""},"All statuses",-1),e("option",{value:"RECEIVED"},"RECEIVED",-1),e("option",{value:"IN_WAREHOUSE"},"IN_WAREHOUSE",-1),e("option",{value:"IN_CONTAINER"},"IN_CONTAINER",-1),e("option",{value:"DISPATCHED"},"DISPATCHED",-1),e("option",{value:"ARRIVED_GHANA"},"ARRIVED_GHANA",-1),e("option",{value:"DELIVERED"},"DELIVERED",-1),e("option",{value:"VOID"},"VOID",-1)])],512),[[A,_.value]]),D(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>v.value=s),class:"rounded border px-3 py-2"},[...t[9]||(t[9]=[e("option",{value:10},"10",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)])],512),[[A,v.value,void 0,{number:!0}]]),a(l(p),{onClick:x},{default:o(()=>[...t[10]||(t[10]=[i("Apply",-1)])]),_:1}),a(l(p),{variant:"outline",onClick:N},{default:o(()=>[...t[11]||(t[11]=[i("Clear",-1)])]),_:1})]),a(l(W),{class:"pb-8"},{default:o(()=>[e("div",re,[e("table",de,[t[13]||(t[13]=e("thead",null,[e("tr",{class:"border-b border-border bg-muted/50"},[e("th",{class:"px-4 py-3 font-medium"},"Code"),e("th",{class:"px-4 py-3 font-medium"},"Customer"),e("th",{class:"px-4 py-3 font-medium"},"Supplier"),e("th",{class:"px-4 py-3 font-medium"},"Weight"),e("th",{class:"px-4 py-3 font-medium"},"Shelf"),e("th",{class:"px-4 py-3 font-medium"},"Status"),e("th",{class:"px-4 py-3 font-medium"},"Created"),e("th",{class:"px-4 py-3 font-medium text-right"},"Actions")])],-1)),e("tbody",null,[(u(!0),c(S,null,I(r.shipments.data,s=>(u(),c("tr",{key:s.id,class:"border-b border-border hover:bg-muted/30 transition-colors"},[e("td",ue,n(s.shipment_code),1),e("td",pe,n(s.customer?.full_name||"-"),1),e("td",me,n(s.supplier_name||"-"),1),e("td",fe,n(s.weight??"-"),1),e("td",ce,n(s.shelf_code||"-"),1),e("td",_e,n(s.status),1),e("td",ve,n(new Date(s.created_at).toLocaleDateString()),1),e("td",he,[a(l(E),{href:`/shipments/${s.id}/edit`},{default:o(()=>[a(l(p),{variant:"outline",size:"sm"},{default:o(()=>[a(l(ae),{class:"h-4 w-4"})]),_:1})]),_:1},8,["href"]),a(l(p),{variant:"destructive",size:"sm",onClick:De=>T(s.id)},{default:o(()=>[a(l(le),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]))),128)),r.shipments.data.length===0?(u(),c("tr",xe,[...t[12]||(t[12]=[e("td",{colspan:"8",class:"px-4 py-8 text-center text-muted-foreground"},"No shipments found.",-1)])])):$("",!0)])])]),r.shipments.last_page>1?(u(),c("div",be,[e("div",ge,"Showing "+n(r.shipments.data.length)+" of "+n(r.shipments.total)+" shipments",1),e("div",ye,[(u(!0),c(S,null,I(r.shipments.links,s=>(u(),L(l(E),{key:s.label,href:s.url||"#",class:q(["px-3 py-1 rounded border",s.active?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:bg-muted",s.url?"":"opacity-50 cursor-not-allowed"]),disabled:!s.url},{default:o(()=>[i(n(s.label.replace(/«|»/g,"")),1)]),_:2},1032,["href","class","disabled"]))),128))])])):$("",!0)]),_:1})]),_:1}),a(l(K),{open:b.value,"onUpdate:open":t[3]||(t[3]=s=>b.value=s)},{default:o(()=>[a(l(J),{class:"sm:max-w-md"},{default:o(()=>[a(l(Q),{class:"space-y-3"},{default:o(()=>[a(l(X),null,{default:o(()=>[...t[14]||(t[14]=[i("Delete shipment",-1)])]),_:1}),a(l(ee),null,{default:o(()=>[...t[15]||(t[15]=[i("Are you sure you want to delete this shipment? This action cannot be undone.",-1)])]),_:1})]),_:1}),e("div",we,[e("p",null,[t[16]||(t[16]=e("strong",null,"Shipment:",-1)),i(" "+n((r.shipments.data.find(s=>s.id===h.value)||{shipment_code:"-"}).shipment_code),1)])]),a(l(Y),{class:"gap-2 mt-4"},{default:o(()=>[a(l(Z),{"as-child":""},{default:o(()=>[a(l(p),{variant:"secondary"},{default:o(()=>[...t[17]||(t[17]=[i("Cancel",-1)])]),_:1})]),_:1}),a(l(p),{variant:"destructive",disabled:g.value,onClick:k},{default:o(()=>[i(n(g.value?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{Le as default};
